import{S as x,i as E,s as q,e as p,k as b,t as A,c as v,a as g,n as k,g as D,d as _,b as h,X as j,f as I,E as d,h as S,j as T,m as V,o as C,x as M,u as G,v as R,Y as U,I as X,A as Y}from"../chunks/vendor-b1776dd9.js";import{d as z}from"../chunks/database-6145c2fa.js";import{T as B}from"../chunks/Title-ffab03d7.js";import{p as F}from"../chunks/stores-54dbfcc7.js";import{p as H}from"../chunks/source-efb6a990.js";import{g as J}from"../chunks/navigation-51f4a605.js";import"../chunks/singletons-12a22614.js";function y(c,a,r){const o=c.slice();return o[2]=a[r],o}function w(c){let a,r,o,i,u,l,t=c[2].title+"",e,f,s;return{c(){a=p("a"),r=p("img"),u=b(),l=p("div"),e=A(t),f=b(),this.h()},l(n){a=v(n,"A",{class:!0,href:!0});var m=g(a);r=v(m,"IMG",{class:!0,src:!0,alt:!0}),u=k(m),l=v(m,"DIV",{class:!0});var $=g(l);e=D($,t),$.forEach(_),f=k(m),m.forEach(_),this.h()},h(){h(r,"class","flex-shrink-0 w-40 h-60 object-cover rounded-md transition-transform duration-300 ease-in-out group-hover:scale-105"),j(r.src,o=c[2].cover)||h(r,"src",o),h(r,"alt",i=c[2].title),h(l,"class","text-sm title svelte-1j18wfb"),h(a,"class","flex flex-col w-40 h-72 m-2 group"),h(a,"href",s="/"+c[2].sourceId+"/"+c[2].mangaId)},m(n,m){I(n,a,m),d(a,r),d(a,u),d(a,l),d(l,e),d(a,f)},p(n,m){m&1&&!j(r.src,o=n[2].cover)&&h(r,"src",o),m&1&&i!==(i=n[2].title)&&h(r,"alt",i),m&1&&t!==(t=n[2].title+"")&&S(e,t),m&1&&s!==(s="/"+n[2].sourceId+"/"+n[2].mangaId)&&h(a,"href",s)},d(n){n&&_(a)}}}function K(c){let a,r,o,i,u;a=new B({props:{title:"library"}});let l=c[0],t=[];for(let e=0;e<l.length;e+=1)t[e]=w(y(c,l,e));return{c(){T(a.$$.fragment),r=b(),o=p("div"),i=p("div");for(let e=0;e<t.length;e+=1)t[e].c();this.h()},l(e){V(a.$$.fragment,e),r=k(e),o=v(e,"DIV",{class:!0});var f=g(o);i=v(f,"DIV",{class:!0});var s=g(i);for(let n=0;n<t.length;n+=1)t[n].l(s);s.forEach(_),f.forEach(_),this.h()},h(){h(i,"class","flex flex-wrap justify-center"),h(o,"class","mb-4")},m(e,f){C(a,e,f),I(e,r,f),I(e,o,f),d(o,i);for(let s=0;s<t.length;s+=1)t[s].m(i,null);u=!0},p(e,[f]){if(f&1){l=e[0];let s;for(s=0;s<l.length;s+=1){const n=y(e,l,s);t[s]?t[s].p(n,f):(t[s]=w(n),t[s].c(),t[s].m(i,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=l.length}},i(e){u||(M(a.$$.fragment,e),u=!0)},o(e){G(a.$$.fragment,e),u=!1},d(e){R(a,e),e&&_(r),e&&_(o),U(t,e)}}}function L(c,a,r){let o;X(c,F,u=>r(1,o=u));let i=[];return Y(()=>{const u=o.query.get("q");u&&H(u).then(l=>{var t;return J(`/${l.sourceId}/${l.mangaId}/${(t=l.chapterId)!==null&&t!==void 0?t:""}`,{replaceState:!0})}),z.libraries.toArray().then(l=>r(0,i=l.sort((t,e)=>t.title.localeCompare(e.title))))}),[i]}class te extends x{constructor(a){super();E(this,a,L,K,q,{})}}export{te as default};
