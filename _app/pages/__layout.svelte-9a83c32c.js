import{S as U,i as Y,s as Q,e as E,j as k,k as j,c as L,a as C,m as w,n as N,d as h,b as F,f as G,D as b,o as S,x as d,u as p,v as I,E as J,t as R,g as T,F as W,G as Z,H as ee,I as fe,J as P,K as ie,L as K,M as te,N as ce,O as ue,P as $e,Q as me,w as ne,A as de,R as pe,r as se,T as ge}from"../chunks/vendor-7ce006f1.js";import{d as q,c as ae,s as re}from"../chunks/stores-e778dee3.js";import{L as z,B as he}from"../chunks/LinkButton-980a7a1f.js";import{p as _e}from"../chunks/stores-a5b13367.js";import{c as be}from"../chunks/database-62637bf5.js";function ve(s){let e;return{c(){e=R("library")},l(t){e=T(t,"library")},m(t,n){G(t,e,n)},d(t){t&&h(e)}}}function ke(s){let e;return{c(){e=R("history")},l(t){e=T(t,"history")},m(t,n){G(t,e,n)},d(t){t&&h(e)}}}function we(s){let e;return{c(){e=R("parse")},l(t){e=T(t,"parse")},m(t,n){G(t,e,n)},d(t){t&&h(e)}}}function Se(s){let e,t;return e=new W({props:{icon:s[0]?Z:ee,scale:1.1}}),{c(){k(e.$$.fragment)},l(n){w(e.$$.fragment,n)},m(n,c){S(e,n,c),t=!0},p(n,c){const $={};c&1&&($.icon=n[0]?Z:ee),e.$set($)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Ie(s){let e,t;return e=new W({props:{icon:fe,scale:1.1}}),{c(){k(e.$$.fragment)},l(n){w(e.$$.fragment,n)},m(n,c){S(e,n,c),t=!0},p:P,i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Ve(s){let e,t;return e=new W({props:{icon:ie,scale:1.1}}),{c(){k(e.$$.fragment)},l(n){w(e.$$.fragment,n)},m(n,c){S(e,n,c),t=!0},p:P,i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function De(s){let e,t,n,c,$,l,a,r,i,g,_,M,v,X,u,V;return n=new z({props:{href:"/",$$slots:{default:[ve]},$$scope:{ctx:s}}}),$=new z({props:{href:"/history",$$slots:{default:[ke]},$$scope:{ctx:s}}}),a=new z({props:{href:"/parse",$$slots:{default:[we]},$$scope:{ctx:s}}}),_=new he({props:{onClick:s[1],$$slots:{default:[Se]},$$scope:{ctx:s}}}),v=new z({props:{href:"https://github.com/badasintended/tako",$$slots:{default:[Ie]},$$scope:{ctx:s}}}),u=new z({props:{href:"/settings",$$slots:{default:[Ve]},$$scope:{ctx:s}}}),{c(){e=E("div"),t=E("div"),k(n.$$.fragment),c=j(),k($.$$.fragment),l=j(),k(a.$$.fragment),r=j(),i=E("div"),g=j(),k(_.$$.fragment),M=j(),k(v.$$.fragment),X=j(),k(u.$$.fragment),this.h()},l(o){e=L(o,"DIV",{class:!0});var f=C(e);t=L(f,"DIV",{class:!0});var m=C(t);w(n.$$.fragment,m),c=N(m),w($.$$.fragment,m),l=N(m),w(a.$$.fragment,m),r=N(m),i=L(m,"DIV",{class:!0}),C(i).forEach(h),g=N(m),w(_.$$.fragment,m),M=N(m),w(v.$$.fragment,m),X=N(m),w(u.$$.fragment,m),m.forEach(h),f.forEach(h),this.h()},h(){F(i,"class","flex-grow"),F(t,"class","max-w-6xl mx-auto h-full flex px-4"),F(e,"class","navbar flex-shrink-0 z-50 sticky top-0 w-full h-14 transition-colors duration-500 ease-out border-b border-gray-200 bg-white dark:bg-one-b dark:border-gray-700")},m(o,f){G(o,e,f),b(e,t),S(n,t,null),b(t,c),S($,t,null),b(t,l),S(a,t,null),b(t,r),b(t,i),b(t,g),S(_,t,null),b(t,M),S(v,t,null),b(t,X),S(u,t,null),V=!0},p(o,[f]){const m={};f&4&&(m.$$scope={dirty:f,ctx:o}),n.$set(m);const D={};f&4&&(D.$$scope={dirty:f,ctx:o}),$.$set(D);const y={};f&4&&(y.$$scope={dirty:f,ctx:o}),a.$set(y);const A={};f&5&&(A.$$scope={dirty:f,ctx:o}),_.$set(A);const H={};f&4&&(H.$$scope={dirty:f,ctx:o}),v.$set(H);const x={};f&4&&(x.$$scope={dirty:f,ctx:o}),u.$set(x)},i(o){V||(d(n.$$.fragment,o),d($.$$.fragment,o),d(a.$$.fragment,o),d(_.$$.fragment,o),d(v.$$.fragment,o),d(u.$$.fragment,o),V=!0)},o(o){p(n.$$.fragment,o),p($.$$.fragment,o),p(a.$$.fragment,o),p(_.$$.fragment,o),p(v.$$.fragment,o),p(u.$$.fragment,o),V=!1},d(o){o&&h(e),I(n),I($),I(a),I(_),I(v),I(u)}}}function Me(s,e,t){let n;J(s,q,$=>t(0,n=$));function c(){q.set(!n)}return[n,c]}class ye extends U{constructor(e){super();Y(this,e,Me,De,Q,{})}}function oe(s){let e,t;return e=new ye({}),{c(){k(e.$$.fragment)},l(n){w(e.$$.fragment,n)},m(n,c){S(e,n,c),t=!0},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){p(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function le(s){let e,t,n,c,$;const l=s[7].default,a=pe(l,s,s[6],null);return{c(){e=E("div"),t=E("div"),a&&a.c(),this.h()},l(r){e=L(r,"DIV",{class:!0});var i=C(e);t=L(i,"DIV",{class:!0});var g=C(t);a&&a.l(g),g.forEach(h),i.forEach(h),this.h()},h(){F(t,"class","w-full max-w-6xl mx-auto font-sans"),F(e,"class","scroller flex-grow w-full overflow-y-auto overflow-y-scroll"),K(e,"scroller-hidden",!s[1])},m(r,i){G(r,e,i),b(e,t),a&&a.m(t,null),n=!0,c||($=[te(e,"scroll",s[4]),te(e,"mousemove",s[5])],c=!0)},p(r,i){a&&a.p&&(!n||i&64)&&ce(a,l,r,r[6],n?$e(l,r[6],i,null):ue(r[6]),null),i&2&&K(e,"scroller-hidden",!r[1])},i(r){n||(d(a,r),n=!0)},o(r){p(a,r),n=!1},d(r){r&&h(e),a&&a.d(r),c=!1,me($)}}}function Be(s){let e,t,n,c=s[0].path,$,l=s[2]&&oe(),a=le(s);return{c(){e=E("div"),t=E("div"),l&&l.c(),n=j(),a.c(),this.h()},l(r){e=L(r,"DIV",{});var i=C(e);t=L(i,"DIV",{class:!0});var g=C(t);l&&l.l(g),n=N(g),a.l(g),g.forEach(h),i.forEach(h),this.h()},h(){F(t,"class","w-full h-screen flex flex-col flex-auto bottom-0 dark:bg-one-b transition-colors duration-500 ease-out text-gray-500 dark:text-one-w"),K(e,"dark",s[3])},m(r,i){G(r,e,i),b(e,t),l&&l.m(t,null),b(t,n),a.m(t,null),$=!0},p(r,[i]){r[2]?l?i&4&&d(l,1):(l=oe(),l.c(),d(l,1),l.m(t,n)):l&&(se(),p(l,1,1,()=>{l=null}),ne()),i&1&&Q(c,c=r[0].path)?(se(),p(a,1,1,P),ne(),a=le(r),a.c(),d(a),a.m(t,null)):a.p(r,i),i&8&&K(e,"dark",r[3])},i(r){$||(d(l),d(a),$=!0)},o(r){p(l),p(a),$=!1},d(r){r&&h(e),l&&l.d(),a.d(r)}}}function Ee(s,e,t){let n,c,$;J(s,re,u=>t(2,n=u)),J(s,_e,u=>t(0,c=u)),J(s,q,u=>t(3,$=u));let{$$slots:l={},$$scope:a}=e;var r=this&&this.__awaiter||function(u,V,o,f){function m(D){return D instanceof o?D:new o(function(y){y(D)})}return new(o||(o=Promise))(function(D,y){function A(B){try{x(f.next(B))}catch(O){y(O)}}function H(B){try{x(f.throw(B))}catch(O){y(O)}}function x(B){B.done?D(B.value):m(B.value).then(A,H)}x((f=f.apply(u,V||[])).next())})};let i=!1,g=0,_=!1,M=0;de(()=>r(void 0,void 0,void 0,function*(){var u;const V=1,o=+((u=localStorage.getItem("cacheVersion"))!==null&&u!==void 0?u:"0");V!==o&&(localStorage.setItem("cacheVersion",V.toString()),yield Promise.all(be.tables.map(f=>f.clear()))),ae.set(localStorage.getItem("chapterSort")==="-1"?-1:1),ae.subscribe(f=>localStorage.setItem("chapterSort",f.toString())),q.set(localStorage.getItem("darkMode")==="true"),q.subscribe(f=>localStorage.setItem("darkMode",f?"true":"false")),setInterval(()=>{_&&M++,t(1,i=_&&M<300||g>window.innerWidth-15)},1)}));function v(){_=!0,M=0}function X(u){g=u.clientX}return s.$$set=u=>{"$$scope"in u&&t(6,a=u.$$scope)},s.$$.update=()=>{s.$$.dirty&1&&c&&ge(re,n=!0,n)},[c,i,n,$,v,X,a,l]}class Fe extends U{constructor(e){super();Y(this,e,Ee,Be,Q,{})}}export{Fe as default};
